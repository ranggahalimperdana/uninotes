# UniNotes - Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              UNINOTES                                    â”‚
â”‚                  Platform Berbagi Catatan Akademik                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         1. PRESENTATION LAYER                            â”‚
â”‚                     (React Components + Tailwind CSS)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Login.tsx  â”‚  â”‚ Register.tsx â”‚  â”‚   UserDashboard.tsx          â”‚ â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚                              â”‚ â”‚
â”‚  â”‚  â€¢ Email     â”‚  â”‚ â€¢ Cascade    â”‚  â”‚  â€¢ Browse all notes          â”‚ â”‚
â”‚  â”‚  â€¢ Password  â”‚  â”‚   Fakultas â†’ â”‚  â”‚  â€¢ Advanced filters          â”‚ â”‚
â”‚  â”‚  â€¢ Role      â”‚  â”‚   Prodi      â”‚  â”‚  â€¢ Search functionality      â”‚ â”‚
â”‚  â”‚    select    â”‚  â”‚ â€¢ Validation â”‚  â”‚  â€¢ View details              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      UploadNotes.tsx           â”‚  â”‚   AdminDashboard.tsx       â”‚   â”‚
â”‚  â”‚                                â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚  â€¢ Upload PDF/Image            â”‚  â”‚  â€¢ View all posts          â”‚   â”‚
â”‚  â”‚  â€¢ Cascade: Semester â†’ MK      â”‚  â”‚  â€¢ Delete any post         â”‚   â”‚
â”‚  â”‚  â€¢ Manage own notes (CRUD)     â”‚  â”‚  â€¢ Promote users           â”‚   â”‚
â”‚  â”‚  â€¢ File preview                â”‚  â”‚  â€¢ User management         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â†“â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          2. SERVICE LAYER                                â”‚
â”‚               (Business Logic & Data Operations)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  authService.ts                                                 â”‚    â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚  â”‚  ğŸ“‹ Authentication & User Management                            â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â€¢ registerUser(name, email, password, faculty, prodi)         â”‚    â”‚
â”‚  â”‚    ğŸ”„ SUPABASE: supabase.auth.signUp()                          â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â€¢ loginUser(email, password)                                   â”‚    â”‚
â”‚  â”‚    ğŸ”„ SUPABASE: supabase.auth.signInWithPassword()              â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â€¢ logoutUser()                                                 â”‚    â”‚
â”‚  â”‚    ğŸ”„ SUPABASE: supabase.auth.signOut()                         â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â€¢ getCurrentUser()                                             â”‚    â”‚
â”‚  â”‚    ğŸ”„ SUPABASE: supabase.auth.getUser()                         â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â€¢ promoteToAdmin(email)                                        â”‚    â”‚
â”‚  â”‚    ğŸ”„ SUPABASE: Update users table                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  notesService.ts                                                â”‚    â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚  â”‚  ğŸ“‹ Notes/Posts Management                                      â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â€¢ getAllNotes()                                                â”‚    â”‚
â”‚  â”‚    ğŸ”„ SUPABASE: SELECT * FROM notes JOIN users                  â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â€¢ createNote(note, file)                                       â”‚    â”‚
â”‚  â”‚    ğŸ”„ SUPABASE: Upload to Storage + INSERT to notes table       â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â€¢ updateNote(id, data)                                         â”‚    â”‚
â”‚  â”‚    ğŸ”„ SUPABASE: UPDATE notes WHERE id = ?                       â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â€¢ deleteNote(id)                                               â”‚    â”‚
â”‚  â”‚    ğŸ”„ SUPABASE: Delete from Storage + DELETE FROM notes         â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â€¢ getFilteredNotes(filters)                                    â”‚    â”‚
â”‚  â”‚    ğŸ”„ SUPABASE: SELECT with WHERE clauses                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â†“â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          3. DATA LAYER                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   CURRENT: localStorage    â”‚  â†’â†’â†’  â”‚   FUTURE: Supabase           â”‚ â”‚
â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚       â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚ â”‚
â”‚  â”‚                            â”‚       â”‚                              â”‚ â”‚
â”‚  â”‚   uninotes_users           â”‚       â”‚   ğŸ” Supabase Auth           â”‚ â”‚
â”‚  â”‚   â€¢ name, email            â”‚       â”‚   â€¢ Built-in authentication  â”‚ â”‚
â”‚  â”‚   â€¢ password (plain)       â”‚       â”‚   â€¢ Secure password hashing  â”‚ â”‚
â”‚  â”‚   â€¢ faculty, prodi         â”‚       â”‚   â€¢ JWT tokens              â”‚ â”‚
â”‚  â”‚   â€¢ role                   â”‚       â”‚                              â”‚ â”‚
â”‚  â”‚                            â”‚       â”‚   ğŸ“Š Database Tables          â”‚ â”‚
â”‚  â”‚   uninotes_all_posts       â”‚       â”‚   â€¢ users                    â”‚ â”‚
â”‚  â”‚   â€¢ id, title              â”‚       â”‚     - id, name, email        â”‚ â”‚
â”‚  â”‚   â€¢ description            â”‚       â”‚     - faculty, prodi, role   â”‚ â”‚
â”‚  â”‚   â€¢ fileData (base64)      â”‚       â”‚                              â”‚ â”‚
â”‚  â”‚   â€¢ courseCode, semester   â”‚       â”‚   â€¢ notes                    â”‚ â”‚
â”‚  â”‚   â€¢ uploadedBy             â”‚       â”‚     - id, user_id            â”‚ â”‚
â”‚  â”‚                            â”‚       â”‚     - title, description     â”‚ â”‚
â”‚  â”‚   uninotes_current_user    â”‚       â”‚     - file_url (not base64!) â”‚ â”‚
â”‚  â”‚   â€¢ Session data           â”‚       â”‚     - courseCode, semester   â”‚ â”‚
â”‚  â”‚                            â”‚       â”‚                              â”‚ â”‚
â”‚  â”‚   âŒ Limitations:          â”‚       â”‚   ğŸ’¾ Supabase Storage        â”‚ â”‚
â”‚  â”‚   â€¢ No sync across devices â”‚       â”‚   â€¢ Bucket: notes-files      â”‚ â”‚
â”‚  â”‚   â€¢ Files as base64        â”‚       â”‚   â€¢ CDN-optimized            â”‚ â”‚
â”‚  â”‚   â€¢ 5-10MB browser limit   â”‚       â”‚   â€¢ Direct file URLs         â”‚ â”‚
â”‚  â”‚   â€¢ No backups             â”‚       â”‚   â€¢ Automatic optimization   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚                              â”‚ â”‚
â”‚                                        â”‚   âœ… Benefits:               â”‚ â”‚
â”‚                                        â”‚   â€¢ Cross-device sync        â”‚ â”‚
â”‚                                        â”‚   â€¢ Unlimited storage        â”‚ â”‚
â”‚                                        â”‚   â€¢ Automatic backups        â”‚ â”‚
â”‚                                        â”‚   â€¢ Real-time updates        â”‚ â”‚
â”‚                                        â”‚   â€¢ Row Level Security       â”‚ â”‚
â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â†“â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          4. STATIC DATA                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  allCoursesData.ts                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                                                          â”‚
â”‚  ğŸ“š Course Data (500+ courses)                                          â”‚
â”‚  â”œâ”€â”€ Informatika (semester 1-7 + Pilihan)                               â”‚
â”‚  â”œâ”€â”€ Sipil (semester 1-7 + Pilihan)                                     â”‚
â”‚  â”œâ”€â”€ Geologi (semester 1-7 + Pilihan)                                   â”‚
â”‚  â”œâ”€â”€ Ilmu Komunikasi (semester 1-7 + Pilihan)                           â”‚
â”‚  â”œâ”€â”€ PWK (semester 1-7 + Pilihan)                                       â”‚
â”‚  â”œâ”€â”€ Agribisnis (semester 1-7 + Pilihan)                                â”‚
â”‚  â”œâ”€â”€ Agroteknologi (semester 1-7 + Pilihan)                             â”‚
â”‚  â”œâ”€â”€ Perminyakan (semester 1-7 + Pilihan)                               â”‚
â”‚  â””â”€â”€ Mesin (semester 1-2) âš ï¸ Incomplete                                 â”‚
â”‚                                                                          â”‚
â”‚  ğŸ”§ Helper Functions                                                     â”‚
â”‚  â€¢ getProdiList() â†’ List all prodi                                      â”‚
â”‚  â€¢ getFacultyList() â†’ List all fakultas                                 â”‚
â”‚  â€¢ getProdiByFaculty() â†’ Cascade filter                                 â”‚
â”‚  â€¢ getSemestersByProdi() â†’ Get available semesters                      â”‚
â”‚  â€¢ getCoursesBySemester() â†’ Get courses by semester                     â”‚
â”‚                                                                          â”‚
â”‚  ğŸ“ Can stay static OR migrate to Supabase courses table                â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       5. UTILITIES & HELPERS                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  types/index.ts         constants/index.ts      utils/                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  â€¢ User                 â€¢ STORAGE_KEYS          â€¢ validation.ts         â”‚
â”‚  â€¢ UserNote             â€¢ USER_ROLES            â€¢ formatting.ts         â”‚
â”‚  â€¢ Course               â€¢ FILE_CONFIG                                   â”‚
â”‚  â€¢ DashboardFilters     â€¢ VALIDATION_MESSAGES                           â”‚
â”‚  â€¢ FormErrors           â€¢ SUCCESS_MESSAGES                              â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DATA FLOW EXAMPLE                               â”‚
â”‚                    (User uploads a note)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  1. Component: UploadNotes.tsx                                          â”‚
â”‚     â””â”€> User fills form, selects file                                   â”‚
â”‚                                                                          â”‚
â”‚  2. Handler: handleSubmit()                                             â”‚
â”‚     â”œâ”€> Validate form data                                              â”‚
â”‚     â”œâ”€> Create note object                                              â”‚
â”‚     â””â”€> Call service: createNote(note, file)                            â”‚
â”‚                                                                          â”‚
â”‚  3. Service: notesService.ts â†’ createNote()                             â”‚
â”‚     â”œâ”€> [localStorage] Convert file to base64                           â”‚
â”‚     â”œâ”€> [localStorage] Save to localStorage                             â”‚
â”‚     â”‚                                                                    â”‚
â”‚     â”‚   ğŸ”„ FUTURE with Supabase:                                        â”‚
â”‚     â”œâ”€> [Supabase] Upload file to Storage                               â”‚
â”‚     â”œâ”€> [Supabase] Get public URL                                       â”‚
â”‚     â””â”€> [Supabase] Insert metadata to database                          â”‚
â”‚                                                                          â”‚
â”‚  4. Return Response                                                      â”‚
â”‚     â””â”€> { success: true, message: "Success!" }                          â”‚
â”‚                                                                          â”‚
â”‚  5. Component Updates                                                    â”‚
â”‚     â”œâ”€> Show success notification                                       â”‚
â”‚     â”œâ”€> Refresh notes list                                              â”‚
â”‚     â””â”€> Reset form                                                      â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       AUTHENTICATION FLOW                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  USER REGISTRATION                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                       â”‚
â”‚  1. User fills registration form                                        â”‚
â”‚  2. Cascade validation: Fakultas â†’ Prodi                                â”‚
â”‚  3. authService.registerUser()                                          â”‚
â”‚     â””â”€> Check email exists                                              â”‚
â”‚         â””â”€> Save user to storage                                        â”‚
â”‚             â””â”€> Return success                                          â”‚
â”‚                                                                          â”‚
â”‚  USER LOGIN                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                             â”‚
â”‚  1. User enters email + password                                        â”‚
â”‚  2. Select role (User/Admin)                                            â”‚
â”‚  3. authService.loginUser()                                             â”‚
â”‚     â””â”€> Validate credentials                                            â”‚
â”‚         â””â”€> Return user data                                            â”‚
â”‚             â””â”€> Store session                                           â”‚
â”‚                 â””â”€> Redirect to dashboard                               â”‚
â”‚                                                                          â”‚
â”‚  ADMIN PROMOTION (One-way!)                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚  1. Admin searches user by email                                        â”‚
â”‚  2. Click "Promote to Admin"                                            â”‚
â”‚  3. authService.promoteToAdmin()                                        â”‚
â”‚     â””â”€> Update user role = 'admin'                                      â”‚
â”‚         â””â”€> User CANNOT access user dashboard anymore                   â”‚
â”‚             â””â”€> Must use admin login                                    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ROLE-BASED ACCESS CONTROL                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  USER ROLE                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                              â”‚
â”‚  âœ… Browse all notes                                                    â”‚
â”‚  âœ… Upload notes                                                        â”‚
â”‚  âœ… Edit own notes                                                      â”‚
â”‚  âœ… Delete own notes                                                    â”‚
â”‚  âŒ Delete others' notes                                                â”‚
â”‚  âŒ Promote users                                                       â”‚
â”‚  âŒ Access admin dashboard                                              â”‚
â”‚                                                                          â”‚
â”‚  ADMIN ROLE                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                             â”‚
â”‚  âœ… View all notes from all users                                       â”‚
â”‚  âœ… Delete any note                                                     â”‚
â”‚  âœ… Promote users to admin                                              â”‚
â”‚  âŒ Access user dashboard (blocked)                                     â”‚
â”‚  âŒ Upload notes (admin-only panel)                                     â”‚
â”‚  âŒ Downgrade to user (one-way promotion)                               â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MIGRATION STRATEGY                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  PHASE 1: Setup (Day 1)                                                 â”‚
â”‚  â”œâ”€â”€ Install @supabase/supabase-js                                      â”‚
â”‚  â”œâ”€â”€ Create Supabase project                                            â”‚
â”‚  â”œâ”€â”€ Setup database schema                                              â”‚
â”‚  â””â”€â”€ Create storage bucket                                              â”‚
â”‚                                                                          â”‚
â”‚  PHASE 2: Services (Day 2-3)                                            â”‚
â”‚  â”œâ”€â”€ Update authService.ts                                              â”‚
â”‚  â”‚   â””â”€â”€ Replace localStorage with Supabase Auth                        â”‚
â”‚  â””â”€â”€ Update notesService.ts                                             â”‚
â”‚      â””â”€â”€ Replace localStorage with Supabase DB + Storage                â”‚
â”‚                                                                          â”‚
â”‚  PHASE 3: Components (Day 4)                                            â”‚
â”‚  â”œâ”€â”€ Add async/await                                                    â”‚
â”‚  â”œâ”€â”€ Add loading states                                                 â”‚
â”‚  â””â”€â”€ Add error handling                                                 â”‚
â”‚                                                                          â”‚
â”‚  PHASE 4: Testing (Day 5)                                               â”‚
â”‚  â”œâ”€â”€ Test all user flows                                                â”‚
â”‚  â”œâ”€â”€ Test all admin flows                                               â”‚
â”‚  â””â”€â”€ Test edge cases                                                    â”‚
â”‚                                                                          â”‚
â”‚  PHASE 5: Data Migration (Day 6)                                        â”‚
â”‚  â”œâ”€â”€ Export data from localStorage                                      â”‚
â”‚  â”œâ”€â”€ Transform to Supabase format                                       â”‚
â”‚  â””â”€â”€ Import to Supabase                                                 â”‚
â”‚                                                                          â”‚
â”‚  PHASE 6: Cleanup & Deploy (Day 7)                                      â”‚
â”‚  â”œâ”€â”€ Remove localStorage code                                           â”‚
â”‚  â”œâ”€â”€ Update documentation                                               â”‚
â”‚  â””â”€â”€ Deploy to production                                               â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š File Dependency Graph

```
App.tsx
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Login.tsx
â”‚   â”‚   â””â”€â”€ services/authService.ts
â”‚   â”‚       â””â”€â”€ constants/index.ts
â”‚   â”‚       â””â”€â”€ utils/validation.ts
â”‚   â”‚       â””â”€â”€ types/index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ Register.tsx
â”‚   â”‚   â””â”€â”€ services/authService.ts
â”‚   â”‚   â””â”€â”€ data/allCoursesData.ts
â”‚   â”‚   â””â”€â”€ utils/validation.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ UserDashboard.tsx
â”‚   â”‚   â””â”€â”€ services/notesService.ts
â”‚   â”‚   â””â”€â”€ data/allCoursesData.ts
â”‚   â”‚   â””â”€â”€ utils/formatting.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ UploadNotes.tsx
â”‚   â”‚   â””â”€â”€ services/notesService.ts
â”‚   â”‚   â””â”€â”€ data/allCoursesData.ts
â”‚   â”‚   â””â”€â”€ utils/formatting.ts
â”‚   â”‚   â””â”€â”€ utils/validation.ts
â”‚   â”‚
â”‚   â””â”€â”€ AdminDashboard.tsx
â”‚       â””â”€â”€ services/authService.ts
â”‚       â””â”€â”€ services/notesService.ts
â”‚       â””â”€â”€ utils/formatting.ts
â”‚
â””â”€â”€ All components use:
    â””â”€â”€ types/index.ts
    â””â”€â”€ constants/index.ts
```

---

**Legend:**
- ğŸ”„ = Supabase integration point
- âœ… = Completed/Working
- âŒ = Not allowed/Not implemented
- âš ï¸ = Warning/Incomplete
- ğŸ“‹ = Documentation
- ğŸ” = Security feature
- ğŸ“Š = Database
- ğŸ’¾ = Storage
- ğŸ“š = Static data
